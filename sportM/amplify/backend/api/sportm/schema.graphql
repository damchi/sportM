type User @model {
  id: ID!
  firstName: String!
  lastName: String!
  membershipType: String!
  email:String!
  dob: AWSDate
  height: String
  weightCategory: String
  boatPreference: AWSJSON
  side: AWSJSON
  sex: String
  status:Boolean
  training: [AthleteAttendence] @connection(keyName: "byAthlete", fields: ["id"])
  boat: [BoatList] @connection(keyName: "byAthlete", fields: ["id"])

}

type Boat @model {
  id: ID!
  name: String!
  ownership: String!
  membershipType: String!
  weightCategory: String!
  sortOfBoat: String!
  note: String
  active: Boolean!
  training: [BoatList] @connection(keyName: "byBoat", fields: ["id"])
}

type Training @model
{
  id: ID!
  trainingDate: AWSDate!
  statut: Boolean
  athleteCategory:String
  trainingTime:String
  athleteAttending: [AthleteAttendence] @connection(keyName: "byTraining", fields: ["id"])
  boatTraining: [BoatList] @connection(keyName: "byTraining", fields: ["id"])
}

type AthleteAttendence
@model(queries: null)
@key(name: "byTraining", fields: ["trainingID", "athleteID"])
@key(name: "byAthlete", fields: ["athleteID", "trainingID"]) {
  id: ID!
  trainingID: ID!
  athleteID: ID!
  training: Training! @connection(fields: ["trainingID"])
  athlete: User! @connection(fields: ["athleteID"])
  attending: String
}

type BoatList
@model(queries: null)
@key(name: "byTraining", fields: ["trainingID", "athleteID"])
@key(name: "byAthlete", fields: ["athleteID", "trainingID"])
@key(name: "byBoat", fields: ["boatID", "trainingID"])
{
  id: ID!
  trainingID: ID!
  athleteID: ID!
  boatID: ID!
  training: Training! @connection(fields: ["trainingID"])
  boat: Boat! @connection(fields: ["boatID"])
  athlete: User! @connection(fields: ["athleteID"])
}

input CreateAthleteAttendenceInput {
  id: ID
  trainingID: ID!
  athleteID: ID!
  attending: String
}

type Mutation {
  batchAddAthleteAttendence(athleteAttendence: [CreateAthleteAttendenceInput]): [AthleteAttendence]
}
type Query {
  batchGetAthleteAttendence(userId:[ID]): [User]
}
